# –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é HR Assistant

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –ß—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:
- üìß Email –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Gmail –∏–ª–∏ Yandex.Mail)
- ü§ñ Telegram –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
- üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã —Ö–æ—Å—Ç–∏–Ω–≥–∞
- üîë OpenAI API –∫–ª—é—á ($18 –¥–µ–ø–æ–∑–∏—Ç –º–∏–Ω–∏–º—É–º)
- ‚è∞ 2-3 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É

## –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 1.1 OpenAI API

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://platform.openai.com/
# 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ
# 3. –î–æ–±–∞–≤—å—Ç–µ $18+ –Ω–∞ –±–∞–ª–∞–Ω—Å (API Keys -> Billing)
# 4. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á (API Keys -> Create new secret key)
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á: sk-...
```

### 1.2 Telegram Bot

```bash
# 1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: /newbot
# 3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: HR Assistant Bot
# 4. –í–≤–µ–¥–∏—Ç–µ username: your_hr_assistant_bot
# 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω: 123456789:AAEhBOweik6ad9r_SmeN8owfY-MfqhqeEE

# –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Chat ID:
# 1. –ù–∞–π–¥–∏—Ç–µ @userinfobot –≤ Telegram
# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: /start
# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à ID: 123456789
```

### 1.3 HeadHunter API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://dev.hh.ru/
# 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# 3. –ü–æ–ª—É—á–∏—Ç–µ Client ID –∏ Client Secret
# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redirect URI: https://hrassistant.ru/auth/hh/callback
```

## –®–∞–≥ 2: –í—ã–±–æ—Ä –∏ –∑–∞–∫–∞–∑ —Ö–æ—Å—Ç–∏–Ω–≥–∞

### –í–∞—Ä–∏–∞–Ω—Ç –ê: Selectel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∑–∞–∫–∞–∑ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://selectel.ru/
# 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
# 3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ 5,000‚ÇΩ
# 4. –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –û–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ -> –°–µ—Ä–≤–µ—Ä—ã

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞:
–ù–∞–∑–≤–∞–Ω–∏–µ: hr-assistant-prod
–û–±—Ä–∞–∑: Ubuntu 22.04 LTS
–¢–∞—Ä–∏—Ñ: SSD-3 (4 CPU, 8GB RAM, 80GB SSD)
–°–µ—Ç—å: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é
Firewall: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (SSH, HTTP, HTTPS)
SSH –∫–ª—é—á: –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á

# –°—Ç–æ–∏–º–æ—Å—Ç—å: ~3,500‚ÇΩ/–º–µ—Å—è—Ü
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—É—á–∏—Ç–µ:
SERVER_IP=185.22.153.45  # –í–∞—à IP –±—É–¥–µ—Ç –¥—Ä—É–≥–æ–π

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:
ssh root@$SERVER_IP

# –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç—å—Ç–µ: yes
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: Timeweb Cloud

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://timeweb.cloud/
# 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram)
# 3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ 3,000‚ÇΩ

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞:
# –û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã -> –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: Ubuntu 22.04
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: Cloud VPS S4 (4 CPU, 8GB RAM, 160GB SSD)
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ IP: –ù–µ –Ω—É–∂–Ω–æ
SSH –∫–ª—é—á–∏: –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á

# –°—Ç–æ–∏–º–æ—Å—Ç—å: ~2,800‚ÇΩ/–º–µ—Å—è—Ü
```

### –í–∞—Ä–∏–∞–Ω—Ç –í: VK Cloud

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://cloud.vk.com/
# 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ VK ID
# 3. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞—Å–ø–æ—Ä—Ç)

# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–∞:
# –û–±–ª–∞—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è -> –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç–∞–Ω—Å
–ù–∞–∑–≤–∞–Ω–∏–µ: hr-assistant
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: Ubuntu 22.04
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –°—Ç–∞–Ω–¥–∞—Ä—Ç S2 (4 CPU, 8GB RAM, 80GB SSD)
–°–µ—Ç—å: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é
Floating IP: –î–∞

# –°—Ç–æ–∏–º–æ—Å—Ç—å: ~3,000‚ÇΩ/–º–µ—Å—è—Ü
```

## –®–∞–≥ 3: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞

### REG.RU (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.reg.ru/
# 2. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è:
hrassistant.ru
myhrbot.ru
jobassistant.ru

# 3. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ (~300‚ÇΩ/–≥–æ–¥)
# 4. –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ DNS:

# A –∑–∞–ø–∏—Å–∏:
@               ‚Üí 185.22.153.45  # IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
www             ‚Üí 185.22.153.45
api             ‚Üí 185.22.153.45

# –í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: 15-30 –º–∏–Ω—É—Ç
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –Ø–Ω–¥–µ–∫—Å.–î–æ–º–µ–Ω—ã

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://domain.yandex.ru/
# 2. –ù–∞–π–¥–∏—Ç–µ –¥–æ–º–µ–Ω (~199‚ÇΩ/–≥–æ–¥ –¥–ª—è .ru)
# 3. –û–ø–ª–∞—Ç–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤—ã—à–µ
```

## –®–∞–≥ 4: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_SERVER_IP

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
apt install -y nginx postgresql postgresql-contrib redis-server \
               docker.io docker-compose git curl wget unzip \
               certbot python3-certbot-nginx htop

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±
systemctl enable nginx postgresql redis-server docker
systemctl start nginx postgresql redis-server docker

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall
ufw allow 22    # SSH
ufw allow 80    # HTTP
ufw allow 443   # HTTPS
ufw --force enable

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adduser hrapp
usermod -aG docker hrapp
usermod -aG sudo hrapp

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è hrapp
mkdir -p /home/hrapp/.ssh
cp ~/.ssh/authorized_keys /home/hrapp/.ssh/
chown -R hrapp:hrapp /home/hrapp/.ssh
chmod 700 /home/hrapp/.ssh
chmod 600 /home/hrapp/.ssh/authorized_keys
```

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
nslookup hrassistant.ru

# –ï—Å–ª–∏ –¥–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
certbot --nginx -d hrassistant.ru -d www.hrassistant.ru -d api.hrassistant.ru

# –í–≤–µ–¥–∏—Ç–µ email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
# –°–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏: Y
# –ù–µ —Ä–∞–∑—Ä–µ—à–∞–π—Ç–µ –ø–µ—Ä–µ–¥–∞—á—É email EFF: N

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
echo "0 12 * * * /usr/bin/certbot renew --quiet" | crontab -
```

## –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres
sudo -u postgres psql

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE DATABASE hr_assistant;
CREATE USER hrapp WITH PASSWORD 'YOUR_SECURE_PASSWORD_HERE';
GRANT ALL PRIVILEGES ON DATABASE hr_assistant TO hrapp;
\q

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
echo "host hr_assistant hrapp 127.0.0.1/32 md5" >> /etc/postgresql/14/main/pg_hba.conf

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PostgreSQL
systemctl restart postgresql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo -u hrapp psql -h localhost -d hr_assistant -c "SELECT version();"
```

## –®–∞–≥ 7: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è hrapp
su - hrapp

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-username/hr-assistant.git
cd hr-assistant

# –°–æ–∑–¥–∞–Ω–∏–µ production .env —Ñ–∞–π–ª–∞
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano .env
```

### –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Ñ–∞–π–ª:

```bash
# Database
DATABASE_URL=postgresql://hrapp:YOUR_SECURE_PASSWORD_HERE@localhost:5432/hr_assistant

# Redis
REDIS_URL=redis://localhost:6379

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Telegram
TELEGRAM_BOT_TOKEN=123456789:AAEhBOweik6ad9r_SmeN8owfY-MfqhqeEE
TELEGRAM_CHAT_ID=123456789

# Email (–¥–ª—è Gmail App Password)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
EMAIL_USER=your.email@gmail.com
EMAIL_PASSWORD=your-app-password

# Security
SECRET_KEY=generate-long-random-string-here-with-64-characters-minimum
DEBUG=False

# URLs
FRONTEND_URL=https://hrassistant.ru
TELEGRAM_WEBHOOK_URL=https://api.hrassistant.ru/api/telegram/webhook

# HeadHunter (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
HH_API_KEY=your-hh-api-key-if-you-have
```

## –®–∞–≥ 8: –°–æ–∑–¥–∞–Ω–∏–µ production Docker Compose

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat > docker-compose.prod.yml << 'EOF'
version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile.frontend
    container_name: hr-frontend
    restart: unless-stopped
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_API_URL=https://api.hrassistant.ru/api
    ports:
      - "3000:3000"
    networks:
      - hr-network

  backend:
    build:
      context: .
      dockerfile: Dockerfile.backend
    container_name: hr-backend
    restart: unless-stopped
    env_file:
      - .env
    ports:
      - "8000:8000"
    volumes:
      - ./uploads:/app/uploads
    networks:
      - hr-network

  celery-worker:
    build:
      context: .
      dockerfile: Dockerfile.backend
    container_name: hr-celery-worker
    restart: unless-stopped
    command: celery -A app.services.scheduler worker --loglevel=info --concurrency=4
    env_file:
      - .env
    volumes:
      - ./uploads:/app/uploads
    networks:
      - hr-network

  celery-beat:
    build:
      context: .
      dockerfile: Dockerfile.backend
    container_name: hr-celery-beat
    restart: unless-stopped
    command: celery -A app.services.scheduler beat --loglevel=info
    env_file:
      - .env
    networks:
      - hr-network

volumes:
  uploads:

networks:
  hr-network:
    driver: bridge
EOF

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
mkdir -p uploads/resumes
```

## –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

```bash
# –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
exit

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
cat > /etc/nginx/sites-available/hr-assistant << 'EOF'
server {
    listen 80;
    server_name hrassistant.ru www.hrassistant.ru;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name hrassistant.ru www.hrassistant.ru;

    ssl_certificate /etc/letsencrypt/live/hrassistant.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/hrassistant.ru/privkey.pem;

    # Security headers
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains";

    # Frontend
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Static files
    location /uploads/ {
        alias /home/hrapp/hr-assistant/uploads/;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}

server {
    listen 443 ssl http2;
    server_name api.hrassistant.ru;

    ssl_certificate /etc/letsencrypt/live/hrassistant.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/hrassistant.ru/privkey.pem;

    # API Backend
    location / {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
        client_max_body_size 50M;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }
}
EOF

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
ln -s /etc/nginx/sites-available/hr-assistant /etc/nginx/sites-enabled/
rm /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
systemctl restart nginx
```

## –®–∞–≥ 10: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –í–æ–∑–≤—Ä–∞—Ç –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é hrapp
su - hrapp
cd hr-assistant

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.prod.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yml logs -f

# –û–∂–∏–¥–∞–π—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫:
# hr-frontend  | ‚úì Ready in 2.3s
# hr-backend   | INFO:     Uvicorn running on http://0.0.0.0:8000
```

## –®–∞–≥ 11: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram webhook

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –¥–ª—è Telegram –±–æ—Ç–∞
curl -X POST https://api.hrassistant.ru/api/telegram/setup-webhook

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getWebhookInfo
```

## –®–∞–≥ 12: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
curl -I https://hrassistant.ru
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: HTTP/2 200

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl https://api.hrassistant.ru/health
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status":"healthy"}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://api.hrassistant.ru/docs
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram –±–æ—Ç–∞:

```bash
# 1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: /start
# 3. –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```

## –®–∞–≥ 13: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –ø–æ–º–æ—â—å—é cron:

```bash
# –í–æ–∑–≤—Ä–∞—Ç –∫ root
exit

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
cat > /usr/local/bin/check-hr-assistant << 'EOF'
#!/bin/bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
if ! curl -sf https://hrassistant.ru > /dev/null; then
    echo "Frontend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!" | mail -s "HR Assistant Alert" admin@hrassistant.ru
    systemctl restart nginx
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ backend
if ! curl -sf https://api.hrassistant.ru/health > /dev/null; then
    echo "Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!" | mail -s "HR Assistant Alert" admin@hrassistant.ru
    cd /home/hrapp/hr-assistant
    docker-compose -f docker-compose.prod.yml restart backend
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
DISK_USAGE=$(df / | awk 'NR==2 {print $5}' | sed 's/%//')
if [ $DISK_USAGE -gt 85 ]; then
    echo "–î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ $DISK_USAGE%!" | mail -s "HR Assistant Disk Alert" admin@hrassistant.ru
fi
EOF

chmod +x /usr/local/bin/check-hr-assistant

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ cron (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
echo "*/5 * * * * /usr/local/bin/check-hr-assistant" | crontab -
```

## –®–∞–≥ 14: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backup

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
cat > /usr/local/bin/backup-hr-assistant << 'EOF'
#!/bin/bash

BACKUP_DIR="/var/backups/hr-assistant"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u hrapp pg_dump -h localhost hr_assistant | gzip > $BACKUP_DIR/db_$DATE.sql.gz

# Backup —Ñ–∞–π–ª–æ–≤ –∑–∞–≥—Ä—É–∑–æ–∫
tar -czf $BACKUP_DIR/uploads_$DATE.tar.gz -C /home/hrapp/hr-assistant uploads/

# Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp /home/hrapp/hr-assistant/.env $BACKUP_DIR/env_$DATE.backup

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (>7 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.gz" -mtime +7 -delete
find $BACKUP_DIR -name "*.backup" -mtime +7 -delete

echo "Backup –∑–∞–≤–µ—Ä—à–µ–Ω: $BACKUP_DIR"
EOF

chmod +x /usr/local/bin/backup-hr-assistant

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π backup –≤ 3:00
echo "0 3 * * * /usr/local/bin/backup-hr-assistant" | crontab -
```

## –®–∞–≥ 15: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://hrassistant.ru
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –£–∫–∞–∂–∏—Ç–µ –≤–∞—à email –∏ Telegram Chat ID

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Ä–µ–∑—é–º–µ:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF
- –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (1-2 –º–∏–Ω—É—Ç—ã)

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π:
- –ù–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏ –≤–∞–∫–∞–Ω—Å–∏–∏"
- –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- –í –±–æ—Ç–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Frontend –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs hr-frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker restart hr-frontend
```

### Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –æ—à–∏–±–∫—É:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs hr-backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
docker exec hr-backend python -c "from app.db.database import engine; print(engine.execute('SELECT 1').scalar())"
```

### Telegram webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook
curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getWebhookInfo

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
curl -X POST https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/setWebhook \
  -d "url=https://api.hrassistant.ru/api/telegram/webhook"
```

### OpenAI API –æ—à–∏–±–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
curl https://api.openai.com/v1/usage \
  -H "Authorization: Bearer $OPENAI_API_KEY"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö backend
docker logs hr-backend | grep -i openai
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–í–∞—à HR Assistant –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ. –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç:

1. **–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ –≤ 9:00** –∏—Å–∫–∞—Ç—å –Ω–æ–≤—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏
2. **–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –≤ Telegram —Å –ª—É—á—à–∏–º–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏** –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
4. **–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö** –∏ –≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yml ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yml restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
git pull origin main
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yml logs -f

# Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é
/usr/local/bin/backup-hr-assistant
```

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
- üìß Email: support@hrassistant.ru
- üí¨ Telegram: @hrassistantbot
- üêõ Issues: GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π